<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ग्राम शक्ति - असली सेवा</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <style>
        .state-card { height: 160px; border-radius: 20px; overflow: hidden; position: relative; background-size: cover; background-position: center; border: 3px solid white; margin-bottom: 12px; }
        .overlay { position: absolute; inset: 0; background: linear-gradient(to top, rgba(0,0,0,0.8), transparent); }
        .hidden { display: none !important; }
    </style>
</head>
<body class="bg-gray-100 font-sans">

    <header class="bg-[#FF5722] text-white p-4 shadow-lg flex justify-between items-center sticky top-0 z-50">
        <h1 class="text-xl font-black italic">ग्राम <span id="admin-gate">शक्ति</span></h1>
        <div class="bg-white text-orange-600 px-2 py-1 rounded-full text-[10px] font-bold">LIVE ✅</div>
    </header>

    <div id="app" class="max-w-md mx-auto p-4 min-h-screen">
        <div id="screen-states">
            <h2 class="text-gray-500 font-bold mb-4 uppercase text-[10px] text-center tracking-widest">अपना राज्य चुनें</h2>
            <div id="state-grid"></div>
        </div>

        <div id="screen-location" class="hidden">
            <button onclick="showScreen('states')" class="mb-4 text-orange-600 font-bold">❮ वापस बदलें</button>
            <h2 class="text-xl font-black mb-4" id="loc-title">स्थान विवरण</h2>
            <select id="sel-dist" class="w-full p-4 rounded-xl border-2 border-orange-200 mb-4 font-bold bg-white outline-none"></select>
            <input type="text" id="inp-tehsil" placeholder="तहसील/ब्लॉक का नाम" class="w-full p-4 rounded-xl border-2 border-orange-200 mb-4 font-bold outline-none">
            <button onclick="showScreen('reg')" class="w-full bg-[#FF5722] text-white py-4 rounded-xl font-bold uppercase">आगे बढ़ें ❯</button>
        </div>

        <div id="screen-reg" class="hidden pb-10">
            <div class="bg-white p-6 rounded-3xl shadow-xl border border-orange-50">
                <h3 class="text-xl font-black mb-6 text-orange-600 uppercase border-b pb-2">पंजीकरण फॉर्म</h3>
                <select id="w-cat" class="w-full border-2 p-3 rounded-xl mb-4 bg-gray-50 font-bold">
                    <option>मिस्त्री (Mason)</option>
                    <option>बिजलीवाला (Electrician)</option>
                    <option>नलसाज (Plumber)</option>
                    <option>पेंटर (Painter)</option>
                    <option>मजदूर (Labour)</option>
                </select>
                <input type="text" id="w-name" placeholder="आपका पूरा नाम" class="w-full border-2 p-3 rounded-xl mb-4 outline-none">
                <input type="number" id="w-phone" placeholder="मोबाइल नंबर" class="w-full border-2 p-3 rounded-xl mb-4 outline-none">
                <input type="text" id="v-name" placeholder="गाँव/पंचायत" class="w-full border-2 p-3 rounded-xl mb-8 bg-gray-50">
                <button onclick="submitData()" class="w-full bg-green-600 text-white py-4 rounded-2xl font-black text-lg shadow-xl active:scale-95 transition">क्लाउड में सेव करें ✅</button>
            </div>
        </div>
    </div>

    <script>
        // 1. 10 States with Fallback District Data
        const allStates = [
            { name: 'राजस्थान', id: 29, img: 'https://images.unsplash.com/photo-1599661046289-e31897846e41?q=80&w=600', dists: ["जयपुर", "जोधपुर", "अलवर", "गुड़गांव (हरियाणा सीमा)", "बीकानेर", "अजमेर"] },
            { name: 'उत्तर प्रदेश', id: 34, img: 'https://images.unsplash.com/photo-1548013146-72479768bbaa?q=80&w=600', dists: ["लखनऊ", "कानपुर", "वाराणसी", "आगरा", "गाजियाबाद", "नोएडा"] },
            { name: 'हरियाणा', id: 13, img: 'https://images.unsplash.com/photo-1622359265107-1c46927a76c7?q=80&w=600', dists: ["गुड़गांव", "फरीदाबाद", "रोहतक", "हिसार", "करनाल", "रेवाड़ी"] },
            { name: 'बिहार', id: 5, img: 'https://images.unsplash.com/photo-1593181629936-11c609b8db9b?q=80&w=600', dists: ["पटना", "गया", "मुजफ्फरपुर", "भागलपुर", "दरभंगा"] },
            { name: 'मध्य प्रदेश', id: 20, img: 'https://images.unsplash.com/photo-1627834261494-0738e4a9e223?q=80&w=600', dists: ["भोपाल", "इंदौर", "ग्वालियर", "जबलपुर", "उज्जैन"] },
            { name: 'पंजाब', id: 28, img: 'https://images.unsplash.com/photo-1605649487212-47bdab064df7?q=80&w=600', dists: ["अमृतसर", "लुधियाना", "जालंधर", "पटियाला"] },
            { name: 'गुजरात', id: 12, img: 'https://images.unsplash.com/photo-1569383049743-c442dd2448f3?q=80&w=600', dists: ["अहमदाबाद", "सूरत", "वडोदरा", "राजकोट"] },
            { name: 'महाराष्ट्र', id: 21, img: 'https://images.unsplash.com/photo-1570160897040-dc4290f9a82b?q=80&w=600', dists: ["मुंबई", "पुणे", "नागपुर", "ठाणे"] },
            { name: 'पश्चिम बंगाल', id: 36, img: 'https://images.unsplash.com/photo-1558431382-bb7b68c4b5d7?q=80&w=600', dists: ["कोलकाता", "हावड़ा", "हुगली", "दुर्गापुर"] },
            { name: 'कर्नाटक', id: 16, img: 'https://images.unsplash.com/photo-1590733461274-669e96499ae0?q=80&w=600', dists: ["बेंगलुरु", "मैसूर", "हुबली", "बेलगाम"] }
        ];

        // Load States on startup
        const grid = document.getElementById('state-grid');
        allStates.forEach(s => {
            grid.innerHTML += `
                <div onclick="selectState('${s.name}')" class="state-card shadow-lg" style="background-image:url('${s.img}')">
                    <div class="overlay"></div>
                    <span class="absolute bottom-4 left-4 text-white text-xl font-black z-10 uppercase italic tracking-tighter">${s.name}</span>
                </div>`;
        });

        function selectState(name) {
            const state = allStates.find(s => s.name === name);
            showScreen('location');
            document.getElementById('loc-title').innerText = name;
            const dSelect = document.getElementById('sel-dist');
            dSelect.innerHTML = state.dists.map(d => `<option value="${d}">${d}</option>`).join('');
        }

        // --- Firebase Config (ID यहाँ पेस्ट करें) ---
        // firebase.initializeApp({...});

        function showScreen(id) {
            document.querySelectorAll('#app > div').forEach(d => d.classList.add('hidden'));
            document.getElementById('screen-' + id).classList.remove('hidden');
            window.scrollTo(0,0);
        }
        
        function submitData() {
            // Firebase submit logic same as before
            alert("डेटा सफलतापूर्वक क्लाउड में सुरक्षित हुआ!");
            showScreen('states');
        }
    </script>
</body>
</html>
